name: Build Demo
on:
  push:
    branches: [ master ]

jobs:
  gen-demo:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: Gen Demo
      run: make docker-compose
    - name: Create Pull Request
      if: "!contains(github.event.head_commit.message, 'skip ci')"
      uses: peter-evans/create-pull-request@v2
      with:
        commit-message: "Update demo [skip-ci]"
        title: "Update demo [skip-ci]"
        branch-suffix: random

          